(function(){"use strict";var t={9489:function(t,e,s){var a=s(9963),r=s(6252);const i={class:"main-wrapper"};function n(t,e,s,a,n,l){const c=(0,r.up)("header-main"),o=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",i,[(0,r.Wm)(c),(0,r.Wm)(o,{class:"router-wrapper"})])}var l=s(3577),c=s.p+"img/basket_icon.5a92c15f.svg";const o=t=>((0,r.dD)("data-v-5fd40efd"),t=t(),(0,r.Cn)(),t),d={class:"header"},u={class:"header-counter"},h=o((()=>(0,r._)("h3",{class:"header-counter_label"},"Товаров:",-1))),m=["textContent"],p=o((()=>(0,r._)("img",{class:"icon",src:c,onclick:""},null,-1)));function g(t,e,s,a,i,n){const c=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("header",d,[(0,r._)("div",u,[h,(0,r._)("span",{class:"header-counter_number",textContent:(0,l.zw)(this.$store.state.counterItems)},null,8,m)]),(0,r.Wm)(c,{to:"/basket"},{default:(0,r.w5)((()=>[p])),_:1})])}var _=s(2201);const b={class:"basket-wrapper"};function f(t,e,s,a,i,n){const l=(0,r.up)("basket-list"),c=(0,r.up)("basket-form");return(0,r.wg)(),(0,r.iD)("div",b,[(0,r.Wm)(l),(0,r.Wm)(c)])}const v=t=>((0,r.dD)("data-v-53725fc4"),t=t(),(0,r.Cn)(),t),k={class:"list-wrapper"},w={class:"basket-items"},I=["src"],y={class:"card_info"},C={class:"list-item_info"},P={class:"list-item_info"},$={class:"list-item_info_price"},D={class:"basket-card_count"},F=["id","value"],B=v((()=>(0,r._)("label",null,"Кол-во",-1))),V={class:"basket-card_btns"},A=["name"],x=["name"];function L(t,e,s,a,i,n){return(0,r.wg)(),(0,r.iD)("section",k,[(0,r._)("ul",w,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.currentArr,(t=>((0,r.wg)(),(0,r.iD)("li",{class:"basket-card",key:t[0]},[(0,r._)("img",{class:"basket-card_img",src:t[2]["image"],alt:"product image"},null,8,I),(0,r._)("div",y,[(0,r._)("h5",C,(0,l.zw)(t[2].title),1),(0,r._)("h5",P,"brand: "+(0,l.zw)(t[2].brand),1)]),(0,r._)("h6",$," Цена: "+(0,l.zw)(t[2].regular_price.value)+" "+(0,l.zw)(t[2].regular_price.currency),1),(0,r._)("div",D,[(0,r._)("input",{class:"basket-card_count_inp",type:"number",id:t[2].id,value:t[1],onInput:e[0]||(e[0]=(...t)=>n.changeCount&&n.changeCount(...t)),placeholder:"0"},null,40,F),B]),(0,r._)("div",V,[(0,r._)("button",{class:"basket-card_btns_add btn",name:t[2].id,onClick:e[1]||(e[1]=(...t)=>n.addItem&&n.addItem(...t))}," добавить ",8,A),(0,r._)("button",{class:"basket-card_btns_del btn",name:t[2].id,onClick:e[2]||(e[2]=(...t)=>n.delItem&&n.delItem(...t))}," удалить ",8,x)])])))),128))])])}s(7658);var O=JSON.parse('[{"type":"simple","id":1,"sku":"s1","title":"Product 1","regular_price":{"currency":"USD","value":27.12},"image":"/images/1.png","brand":9},{"type":"simple","id":2,"sku":"s2","title":"Product 2","regular_price":{"currency":"USD","value":36.87},"image":"/images/2.png","brand":8},{"type":"simple","id":3,"sku":"s3","title":"Product 3","regular_price":{"currency":"USD","value":28.91},"image":"/images/3.png","brand":2},{"type":"simple","id":4,"sku":"s4","title":"Product 4","regular_price":{"currency":"USD","value":41.23},"image":"/images/4.png","brand":7},{"type":"simple","id":5,"sku":"s5","title":"Product 5","regular_price":{"currency":"USD","value":88},"image":"/images/5.png","brand":3},{"type":"simple","id":6,"sku":"s6","title":"Product 6","regular_price":{"currency":"USD","value":127.41},"image":"/images/6.png","brand":6},{"type":"simple","id":7,"sku":"s7","title":"Product 7","regular_price":{"currency":"USD","value":123.4},"image":"/images/7.png","brand":5},{"type":"simple","id":8,"sku":"s8","title":"Product 8","regular_price":{"currency":"USD","value":92.32},"image":"/images/8.png","brand":1},{"type":"simple","id":9,"sku":"s9","title":"Product 9","regular_price":{"currency":"USD","value":53.4},"image":"/images/9.png","brand":4}]'),M={name:"AcvBasketList",data(){return{catalog:[],currentArr:[]}},methods:{changeCount(){this.$store.state.basketItems[event.target.id-1][1]=event.target.value,this.checkPrice(),this.checkCounter()},refreshArray(){this.$store.state.basketItems.forEach(((t,e)=>{t.length>2&&(this.currentArr.find((e=>e[2].id==t[2].id))[1]=this.$store.state.basketItems[e][1])}))},checkCounter(){let t=0;this.$store.state.basketItems.forEach((e=>{t+=+e[1]})),this.$store.state.counterItems=t},checkPrice(){let t=0;this.$store.state.basketItems.forEach((e=>{e.length>2&&(t+=e[1]*e[2].regular_price.value)})),this.$store.state.totalPrice=t},addItem(){this.$store.state.basketItems[event.target.name-1][1]++,this.refreshArray(),this.checkCounter(),this.checkPrice()},delItem(){this.$store.state.basketItems[event.target.name-1][1]>0&&(this.$store.state.basketItems[event.target.name-1][1]--,this.refreshArray(),this.checkCounter(),this.checkPrice())}},created(){this.$store.state.basketItems.forEach((t=>{t.length>2&&this.currentArr.push(t)})),this.checkPrice(),this.catalog=[...O]}},S=s(3744);const U=(0,S.Z)(M,[["render",L],["__scopeId","data-v-53725fc4"]]);var z=U;const H=t=>((0,r.dD)("data-v-ce4a337c"),t=t(),(0,r.Cn)(),t),E={class:"basket-info-wrapper"},N={class:"basket-total"},Z=H((()=>(0,r._)("h5",null,"Сумма:",-1))),j=["textContent"],W=H((()=>(0,r._)("label",{for:""},"Имя",-1))),T=H((()=>(0,r._)("label",{for:""},"Телефон",-1))),J=H((()=>(0,r._)("span",null,"Оформить заказ",-1))),K=[J],Y={class:"modal-window"},q=H((()=>(0,r._)("h3",{class:"modal-window_txt"},"Заказ оформлен!",-1))),G=H((()=>(0,r._)("span",{class:"cross-top"},null,-1))),Q=H((()=>(0,r._)("span",{class:"cross-bot"},null,-1))),R=[G,Q];function X(t,e,s,i,n,c){return(0,r.wg)(),(0,r.iD)("section",E,[(0,r._)("div",N,[Z,(0,r._)("span",{textContent:(0,l.zw)(+this.$store.state.totalPrice.toFixed(2)+"$")},null,8,j)]),(0,r._)("form",{action:"",class:"basket-form",onSubmit:e[3]||(e[3]=(0,a.iM)(((...t)=>c.submitHandler&&c.submitHandler(...t)),["prevent"]))},[W,(0,r.wy)((0,r._)("input",{type:"text",placeholder:"Введите имя",onInput:e[0]||(e[0]=(...t)=>c.validateName&&c.validateName(...t)),"onUpdate:modelValue":e[1]||(e[1]=t=>n.nameClient=t),class:(0,l.C_)({"valid-name":n.isValid,"invalid-name":!n.isValid})},null,34),[[a.nr,n.nameClient]]),T,(0,r.wy)((0,r._)("input",{type:"tel",placeholder:"+7(999)-999-99-99","onUpdate:modelValue":e[2]||(e[2]=t=>n.phone=t),class:(0,l.C_)({"valid-name":n.isValidPhone,"invalid-name":!n.isValidPhone})},null,2),[[a.nr,n.phone]])],32),(0,r._)("button",{class:"btn btn-pay",type:"submit",onClick:e[4]||(e[4]=(...t)=>c.submitHandler&&c.submitHandler(...t))},K),(0,r._)("div",{class:(0,l.C_)(["modal-wrapper",{"modal-invisible":!n.isModal}])},[(0,r._)("div",Y,[q,(0,r._)("figure",{class:"modal-window_across",onClick:e[5]||(e[5]=(...t)=>c.toggleModal&&c.toggleModal(...t))},R)])],2)])}var tt={name:"AcvBasketForm",data(){return{nameClient:"",phone:"",isValid:!1,isValidPhone:!1,isModal:!1}},watch:{phone(t){this.validatePhone(t)},name(t){this.validateName(t)}},methods:{submitHandler(){if(1==this.isValid&&1==this.isValidPhone){console.log(this.$store.state.basketItems);let t={clientName:this.nameClient,clientPhone:this.phone,clientsBasket:[]};this.$store.state.basketItems.forEach((e=>{e.length>2&&t.clientsBasket.push([e[2].title,e[1]])})),fetch("https://app.aaccent.su/js/confirm.php",{method:"POST",body:JSON.stringify(t)}).then((t=>{t.ok?this.isModal=!0:console.log("error")}))}},validateName(){let t=event.target.value;t.length>=3&&t.length<15?this.isValid=!0:this.isValid=!1},validatePhone(t){let e=/^[\d\+][\d\(\)\ -]{10,14}\d$/;e.test(t)?this.isValidPhone=!0:this.isValidPhone=!1},toggleModal(){this.isModal=!this.isModal,this.isValid=!1,this.isValidPhone=!1,this.phone="",this.nameClient="",this.$router.push("main"),this.$store.state.counterItems=0,this.$store.state.totalPrice=0,this.$store.state.basketItems=[],this.$store.state.filteredItems=[]}}};const et=(0,S.Z)(tt,[["render",X],["__scopeId","data-v-ce4a337c"]]);var st=et,at={name:"ActBasketCatalog",components:{BasketList:z,BasketForm:st}};const rt=(0,S.Z)(at,[["render",f],["__scopeId","data-v-8aa812ac"]]);var it=rt;const nt={class:"catalog-wrapper"};function lt(t,e,s,a,i,n){const l=(0,r.up)("filter-brands"),c=(0,r.up)("catalog-list");return(0,r.wg)(),(0,r.iD)("div",nt,[(0,r.Wm)(l),(0,r.Wm)(c)])}const ct=t=>((0,r.dD)("data-v-242f34ce"),t=t(),(0,r.Cn)(),t),ot={class:"brands-wrapper"},dt={class:"brands-filter_list"},ut=["name","id","value"],ht=["for"],mt={class:"refresh-content"},pt=ct((()=>(0,r._)("span",{class:"btn-refresh_across_top"},null,-1))),gt=ct((()=>(0,r._)("span",{class:"btn-refresh_across_bot"},null,-1))),_t=[pt,gt];function bt(t,e,s,i,n,c){return(0,r.wg)(),(0,r.iD)("div",ot,[(0,r._)("h2",{onClick:e[0]||(e[0]=(...e)=>t.getCatalog&&t.getCatalog(...e)),class:"brands-label"},"Бренды"),(0,r._)("ul",dt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(this.catalog,(t=>((0,r.wg)(),(0,r.iD)("li",{class:"brands-filter_item",key:t.id},[(0,r.wy)((0,r._)("input",{type:"checkbox",name:t.id,id:t.id,class:"brands-filter_inp",value:t.id,"onUpdate:modelValue":e[1]||(e[1]=t=>n.currentFilters=t)},null,8,ut),[[a.e8,n.currentFilters]]),(0,r._)("label",{class:"brands-filter_label",for:t.id},(0,l.zw)(t.title),9,ht)])))),128))]),(0,r._)("button",{class:"btn btn-get",onClick:e[2]||(e[2]=(...t)=>c.useFilters&&c.useFilters(...t))},"Применить"),(0,r._)("div",mt,[(0,r._)("div",{class:"btn-refresh_across",onClick:e[3]||(e[3]=(...t)=>c.delFilters&&c.delFilters(...t))},_t),(0,r._)("a",{class:"btn-refresh",onClick:e[4]||(e[4]=(...t)=>c.delFilters&&c.delFilters(...t))},"Сбросить")])])}var ft=JSON.parse('[{"id":1,"title":"Brand 1","sort":"100","code":"brand_1"},{"id":2,"title":"Brand 2","sort":"200","code":"brand_2"},{"id":3,"title":"Brand 3","sort":"300","code":"brand_3"},{"id":4,"title":"Brand 4","sort":"400","code":"brand_4"},{"id":5,"title":"Brand 5","sort":"500","code":"brand_5"},{"id":6,"title":"Brand 6","sort":"600","code":"brand_6"},{"id":7,"title":"Brand 7","sort":"700","code":"brand_7"},{"id":8,"title":"Brand 8","sort":"700","code":"brand_8"},{"id":9,"title":"Brand 9","sort":"900","code":"brand_9"}]'),vt={name:"AcvFilterBrands",data(){return{catalog:[],currentFilters:[]}},watch:{"$store.state.filteredItems":function(){0==this.$store.state.filteredItems.length&&(this.currentFilters=[])}},methods:{useFilters(){this.$store.state.filteredItems=[...this.currentFilters]},delFilters(){this.currentFilters=[],this.$store.state.filteredItems=[]}},created(){this.catalog=[...ft]}};const kt=(0,S.Z)(vt,[["render",bt],["__scopeId","data-v-242f34ce"]]);var wt=kt,It=s.p+"img/left-icon.794aa577.svg",yt=s.p+"img/right-icon.82bc7703.svg";const Ct={class:"wrapper"},Pt={class:"catalog-wrapper"},$t={class:""},Dt={class:"catalog-list"},Ft={class:"list-item"},Bt=["src"],Vt={class:"list-item_info"},At={class:"list-item_info"},xt={class:"list-item_info_price"},Lt=["name"];function Ot(t,e,s,a,i,n){return(0,r.wg)(),(0,r.iD)("section",Ct,[(0,r._)("div",Pt,[(0,r._)("div",$t,[(0,r._)("img",{src:It,alt:"left arrow",class:"catalog-wrapper-arrow_left",onClick:e[0]||(e[0]=(...t)=>n.prevPage&&n.prevPage(...t))})]),(0,r._)("ul",Dt,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.currentList,(t=>((0,r.wg)(),(0,r.iD)("li",{class:"list-container",key:t.id},[(0,r._)("div",Ft,[(0,r._)("img",{class:"list-item_img",src:t.image,alt:"product image"},null,8,Bt),(0,r._)("h5",Vt,(0,l.zw)(t.title),1),(0,r._)("h5",At,"brand: "+(0,l.zw)(t.brand),1),(0,r._)("h6",xt," Цена: "+(0,l.zw)(t.regular_price.value)+" "+(0,l.zw)(t.regular_price.currency),1),(0,r._)("button",{onClick:e[1]||(e[1]=(...t)=>n.addItem&&n.addItem(...t)),name:t.id,class:"list-item_btn btn"}," Добавить ",8,Lt)])])))),128))]),(0,r._)("div",null,[(0,r._)("img",{src:yt,alt:"right arrow",class:"catalog-wrapper-arrow_right",onClick:e[2]||(e[2]=(...t)=>n.nextPage&&n.nextPage(...t))})])])])}var Mt=s(3907);const St=(0,Mt.MT)({state(){return{basketItems:[],counterItems:0,totalPrice:Math.floor(0),filteredItems:[]}},getters:{getTodos:t=>t.filteredItems}});var Ut=St,zt={name:"AcvCatalogList",data(){return{list:[],currentList:[],currentFilters:[],otherItems:[]}},computed:{todos(){return this.$store.getters.getTodos}},watch:{"$store.state.filteredItems":function(){this.currentList=[],this.otherItems=[],0!=this.$store.state.filteredItems.length?(this.currentFilters=[...this.$store.state.filteredItems],this.currentFilters.forEach((t=>{this.otherItems.push(this.list.find((e=>e.brand==t)))})),this.currentList=this.otherItems.slice(0,6)):this.currentList=[...this.list.slice(0,6)]}},methods:{addItem(){this.$store.state.basketItems[event.target.name-1][1]++,this.$store.state.basketItems[event.target.name-1][2]=this.currentList.find((t=>t.id==event.target.name)),this.checkCounter()},checkCounter(){let t=0;this.$store.state.basketItems.forEach((e=>{t+=e[1]})),this.$store.state.counterItems=t},nextPage(){6==this.currentList.length?this.currentList=[...this.list.slice(6)]:(this.$store.state.filteredItems=[],this.currentList=[...this.list.slice(0,6)])},prevPage(){this.currentList=[...this.list.slice(0,6)],this.$store.state.filteredItems=[]}},created(){this.list=[...O],this.currentList=[...this.list.slice(0,6)],0==this.$store.state.basketItems.length&&this.list.forEach((t=>{Ut.state.basketItems.push([t.id,0])}))}};const Ht=(0,S.Z)(zt,[["render",Ot],["__scopeId","data-v-47c8f65a"]]);var Et=Ht,Nt={name:"AcvMainCatalog",components:{FilterBrands:wt,CatalogList:Et}};const Zt=(0,S.Z)(Nt,[["render",lt],["__scopeId","data-v-1a9f50ac"]]);var jt=Zt,Wt=(0,_.p7)({history:(0,_.r5)(),routes:[{path:"/main",component:jt,alias:"/"},{path:"/basket",component:it}]}),Tt={name:"AcvHeaderMain",data(){return{}}};const Jt=(0,S.Z)(Tt,[["render",g],["__scopeId","data-v-5fd40efd"]]);var Kt=Jt,Yt={name:"App",components:{HeaderMain:Kt}};const qt=(0,S.Z)(Yt,[["render",n],["__scopeId","data-v-708963ee"]]);var Gt=qt;(0,a.ri)(Gt).use(Wt).use(Ut).mount("#app")}},e={};function s(a){var r=e[a];if(void 0!==r)return r.exports;var i=e[a]={exports:{}};return t[a](i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,a,r,i){if(!a){var n=1/0;for(d=0;d<t.length;d++){a=t[d][0],r=t[d][1],i=t[d][2];for(var l=!0,c=0;c<a.length;c++)(!1&i||n>=i)&&Object.keys(s.O).every((function(t){return s.O[t](a[c])}))?a.splice(c--,1):(l=!1,i<n&&(n=i));if(l){t.splice(d--,1);var o=r();void 0!==o&&(e=o)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[a,r,i]}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.p="/accent_testApp/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,i,n=a[0],l=a[1],c=a[2],o=0;if(n.some((function(e){return 0!==t[e]}))){for(r in l)s.o(l,r)&&(s.m[r]=l[r]);if(c)var d=c(s)}for(e&&e(a);o<n.length;o++)i=n[o],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(d)},a=self["webpackChunkaccepts_test"]=self["webpackChunkaccepts_test"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(9489)}));a=s.O(a)})();
//# sourceMappingURL=app.f600a2d1.js.map